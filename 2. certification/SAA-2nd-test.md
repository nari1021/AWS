# SAA-2nd-test 오답 정리

## 1. Amazon SQS
- 메시지 보존 기간을 1분~14일 사이의 값으로 구성할 수 있으며 기본 값은 4일이다.
- 메시지 보존 제한에 도달하면 메시지는 자동으로 삭제된다.
- 단일 Amazon SQS 메시지 대기열에는 무제한의 메시지가 포함될 수있다.
- 표준 큐의 이동 중 메시지 수는 120,000개, FIFO 큐의 경우 20,000개의 제한이 있다.

1). 표준 대기열
 - 무제한 처리량 : 표준 대기열은 API 작업당 거의 무제한의 초당 트랜잭션(TPS)을 지원
 - 최소한 한 번 전달 : 메시지가 최소한 한 번 전달되고, 가끔 2개 이상으 메시지 복사본이 전달될 수 있다.
 - 최선 노력 순서 : 가끔 메시지가 전송된 순서와 다르게 전달될 수 있다.
 - 한 번 이상 잘못된 순서로 도착하는 메시지를 애플리케이션에서 다음과 같이 처리할 수 있다면 여러 시나리오에서 표준 메시지 대기열을 사용할 수 있다.
 - 실시간 사용자 요청을 집중적 백그라운드 작업과 분리: 사용자들이 미디어 크기를 조정하거나 인코딩하면서 미디어를 업로드할 수 있게 합니다.
 - 작업을 여러 작업자 노드에 할당: 많은 수의 신용 카드 인증 요청을 처리합니다.
 - 장래 처리를 위한 메시지 배치: 데이터베이스에 여러 항목이 추가되도록 예약합니다.

2). FIFO 대기열
 - 높은 처리량 : 기본적으로 FIFO 대기열은 초당 최대 300개의 메시지(초당 300개의 전송, 수신 또는 삭제 작업)을 지원한다. 작업당 최대 10개 메시지를 일괄 처리할 경우, FIFO 대기열은 초당 3000개의 메시지까지 지원할 수 있다. 한도 증가 신청가능.
 - 정확히 한 번 처리 : 메시지가 한 번 전달되고 소비자가 이를 처리 및 삭제할 때까지 유지된다. 중복 메시지는 대기열에 올라가지 않는다.
 - 선입선출 전달 : 메시지가 전송되고 수신되는 순서가 엄격하게 지켜진다.(예: 선입선출)
 - FIFO 대기열은 다음 예와 같이 작업 및 이벤트 순서가 중요하거나 중복 항목이 허용되지 않는 경우에 애플리케이션 간 메시징을 강화해 줍니다.
 - 사용자가 입력한 명령이 올바른 순서로 실행되도록 해야 하는 경우.
 - 가격 수정을 올바른 순서로 전송하여 제품 가격을 정확히 표시해야 하는 경우.
 - 계정에 등록하기 전에 학생이 과정에 등록되는 것을 방지해야 하는 경우.

</br></br>

## 2. S3

### 1. Amazon S3 데이터 일관성 모델

Amazon S3는 모든 AWS 리전의 Amazon S3 버킷에 있는 객체의 PUT 및 DELETE 요청에 대해 강력한 쓰기 후 읽기(read-after-write) 일관성을 제공한다. 이것은 새 객체에 대한 쓰기와, 기존 객체 및 DELETE 요청을 덮어쓰는 PUT 요청 모두에 적용된다. 또한 Amazon S3 Select, Amazon S3 액세스 제어 목록(ACL), Amazon S3 객체 태그, 객체 메타데이터(예: HEAD 객체)에 대한 읽기 작업은 매우 일관적이다.

단일 키에 대한 업데이트는 원자성입니다. 예를 들어, 한 스레드에서 기존 키에 PUT 요청을 수행하고 두 번째 스레드에서 동일한 키에 GET 요청을 동시에 수행하면, 이전 데이터 또는 새 데이터는 얻지만 부분적 데이터나 손상된 데이터는 얻지 못합니다.

Amazon S3에서는 AWS 데이터 센터 내의 여러 서버로 데이터를 복제함으로써 고가용성을 구현합니다. PUT 요청이 성공하면 데이터가 안전하게 저장됩니다. 성공적인 PUT 응답을 받은 후 시작된 모든 읽기(GET 또는 LIST 요청)는 PUT 요청에 의해 쓰여진 데이터를 반환합니다. 다음은 이 동작의 예입니다.

- 프로세스가 Amazon S3로 새 객체를 쓰고 해당 버킷 내에 바로 키를 나열합니다. 새 객체가 목록에 나타납니다.
- 프로세스가 기존 객체를 대체하고 바로 읽기를 시도합니다. Amazon S3가 새 데이터를 반환합니다.
- 프로세스가 기존 객체를 삭제하고 바로 읽기를 시도합니다. 객체가 삭제되었으므로 Amazon S3는 데이터를 반환하지 않습니다.
- 프로세스가 기존 객체를 삭제하고 해당 버킷 내에 바로 키를 나열합니다. 객체가 목록에 나타나지 않습니다.
- Amazon S3는 동시 작성자에 대한 객체 잠금을 지원하지 않습니다. 두 PUT 요청을 동시에 같은 키에 대해 실행할 경우 타임스탬프가 최신인 요청이 우선 적용됩니다. 이것이 문제가 되는 경우 객체 잠금 메커니즘을 애플리케이션에 구축해야 합니다.
- 업데이트는 키를 기반으로 하므로 여러 키에서 원자성 업데이트를 수행할 방법은 없습니다. 예를 들어, 한 키의 업데이트에 의존하는 다른 키의 업데이트를 수행할 수 없습니다. 단, 이 기능을 애플리케이션에 설계해 넣는 경우는 예외입니다.


</br></br>

## 3. AWS Site-to-Site VPN

기본적으로 Amazon VPC로 시작하는 인스턴스는 자체(원격) 네트워크와 통신할 수 없습니다. AWS Site-to-Site VPN(Site-to-Site VPN) 연결을 생성하고 연결을 통해 트래픽을 전달하도록 라우팅을 구성하여 VPC에서 원격 네트워크에 대한 액세스를 활성화할 수 있습니다.

VPN 연결이라는 용어는 일반적인 용어지만 이 설명서에서 VPN 연결은 VPC와 자체 네트워크 사이의 연결을 의미합니다. Site-to-Site VPN은 인터넷 프로토콜 보안(IPsec) VPN 연결을 지원합니다.

다음은 Site-to-Site VPN의 핵심 개념입니다.

• VPN 연결: 온프레미스 장비와 VPC 간의 보안 연결입니다.
• VPN 터널: 데이터가 고객 네트워크에서 AWS와 주고받을 수 있는 암호화된 링크입니다.
• 각 VPN 연결에는 고가용성을 위해 동시에 사용할 수 있는 두 개의 VPN 터널이 포함되어 있습니다.
• 고객 게이트웨이: 고객 게이트웨이 디바이스에 대한 정보를 AWS에 제공하는 AWS 리소스입니다.
• 고객 게이트웨이 디바이스는 Site-to-Site VPN 연결을 위해 고객 측에 설치된 물리적 디바이스 또는 소프트웨어 애플리케이션입니다.

VPN 연결을 생성하려면 AWS에서 고객 게이트웨이 장치에 대한 정보를 제공하는 고객 게이트웨이 리소스를 생성해야 합니다. 다음으로 고객 게이트웨이 외부 인터페이스의 인터넷 라우팅 가능한 고정 IP 주소를 설정해야 합니다.

VPC에는 연결된 가상 프라이빗 게이트웨이가 있으며 원격 네트워크에는 고객 게이트웨이가 포함되어 있으며 VPN을 사용하도록 구성해야 합니다. 네트워크에 바인딩 된 VPC의 모든 트래픽이 가상 프라이빗 게이트웨이로 라우팅 되도록 라우팅을 설정합니다.

</br></br>

## 4. Amazon EMR

Amazon EMR은 Apache Spark, Apache Hive, Apache HBase, Apache Flink, Apache Hudi 및 Presto와 같은 오픈 소스 도구를 사용하여 방대한 양의 데이터를 처리하기 위한 업계 최고의 클라우드 빅 데이터 플랫폼입니다. EMR을 사용하면 기존 온프레미스 솔루션의 50%도 안 되는 비용으로 표준 Apache Spark보다 3배 이상 빠르게 페타바이트 규모의 분석을 실행할 수 있습니다. 단기 실행 작업의 경우 클러스터를 가동 및 중단하고 사용된 인스턴스에 따라 초 단위로 지불하면 됩니다. 장기 실행 워크로드의 경우 수요에 맞게 자동으로 규모를 조정하는 고가용성의 클러스터를 만들 수 있습니다. Apache Spark 및 Apache Hive와 같은 오픈 소스 도구의 기존 온프레미스 배포가 있는 경우 AWS Outposts에서 EMR 클러스터를 실행할 수도 있습니다.

Amazon EMR을 통해 로그 분석을 자동으로 제공 할 수 있으며, 이는 맞춤형 로그 분석 애플리케이션을 구축하고 EC2에서 호스팅하는 것보다 경제적입니다. 따라서 ELB 로그 파일을 저장하기 위한 Amazon S3와 로그 파일을 분석하기 위한 Amazon EMR 옵션이 이 둘 사이에 가장 적합합니다.

</br></br>

## 5. Amazon EC2

사용자는 Amazon EC2 인스턴스를 모니터링하고 기본 하드웨어 장애나 복구에 AWS 개입이 필요한 문제로 인해 인스턴스가 손상된 경우 인스턴스를 자동으로 복구하는 Amazon CloudWatch 경보를 만들 수 있습니다. 종료한 인스턴스는 복구할 수 없습니다. 복구된 인스턴스는 인스턴스 ID, 프라이빗 IP 주소, 탄력적 IP 주소 및 모든 인스턴스 메타데이터를 포함하여 원본 인스턴스와 동일합니다. 손상된 인스턴스가 배치 그룹에 있다면, 복구된 인스턴스는 배치 그룹에서 실행됩니다.
